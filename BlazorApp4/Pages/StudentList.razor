@using System.Linq

<h3>Studentlista</h3>

<button @onclick="SortByName" class="btn btn-primary">Sortera efter namn</button>

<p>Antal studenter: @allStudents.Count | Sortering: @(sortAscending ? "A-Ö" : "Ö-A")</p>

<ul>
    @foreach (var student in SortedStudents)
    {
        <li>@student.Namn1 - @student.Betyg1 - @student.Points1 poäng</li>
    }
</ul>

@code {
    public class Student1
    {
        public string Namn1 { get; set; } = "";
        public string Betyg1 { get; set; } = "";
        public decimal Points1 { get; set; }
    }
    
    private List<Student1> allStudents = new()
    {
        new() { Namn1 = "Markus", Betyg1 = "E", Points1 = 1000 },
        new() { Namn1 = "Sajad", Betyg1 = "C", Points1 = 1300 },
        new() { Namn1 = "Pelle", Betyg1 = "A", Points1 = 1500 },
        new() { Namn1 = "Rikard", Betyg1 = "E", Points1 = 1000 },
        new() { Namn1 = "Elias", Betyg1 = "C", Points1 = 1300 },
        new() { Namn1 = "Elin", Betyg1 = "A", Points1 = 1500 },
        new() { Namn1 = "Lovisa", Betyg1 = "E", Points1 = 1000 },
        new() { Namn1 = "Sara", Betyg1 = "C", Points1 = 1300 },
        new() { Namn1 = "Cecilia", Betyg1 = "A", Points1 = 1500 },
        new() { Namn1 = "Ebba", Betyg1 = "E", Points1 = 1000 },
    };
    
    private List<Student1> SortedStudents = new();
    private bool sortAscending = true;
    
    protected override void OnInitialized()
    {
        SortedStudents = allStudents.OrderBy(s => s.Namn1).ToList();
    }

    private void SortByName()
    {
        if (sortAscending)
        {
            SortedStudents = allStudents.OrderByDescending(s => s.Namn1).ToList();
        }
        else
        {
            SortedStudents = allStudents.OrderBy(s => s.Namn1).ToList();
        }
        sortAscending = !sortAscending;
        StateHasChanged();
    }
}